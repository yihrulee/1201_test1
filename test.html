<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å…§åˆ†æ³Œç³»çµ±é…å°æ¸¬é©— (ä¿®æ­£ç‰ˆ)</title>
<style>
  /* --- åŸºç¤è¨­å®š --- */
  body {
    font-family: "Microsoft JhengHei", Arial, sans-serif;
    background-color: #f0f2f5;
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    min-height: 100vh;
  }

  .main-container {
    display: flex;
    background-color: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    max-width: 1300px;
    width: 100%;
    gap: 30px;
    /* é—œéµä¿®æ­£ï¼šè®“å…§å®¹é ä¸Šå°é½Šï¼Œé˜²æ­¢é«˜åº¦è¢«æ’é–‹ */
    align-items: flex-start; 
  }

  /* --- å·¦å´ï¼šé¸é …å€ --- */
  .options-panel {
    width: 220px;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    gap: 10px;
    background: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
  }

  .options-header {
    color: #0033cc;
    font-weight: bold;
    text-align: center;
    border-bottom: 2px solid #0033cc;
    padding-bottom: 10px;
    margin-bottom: 5px;
  }

  .draggable-item {
    background-color: #fff;
    color: #cc0000; 
    font-weight: bold;
    font-size: 16px;
    padding: 10px 5px;
    text-align: center;
    border: 2px solid #ddd;
    border-radius: 6px;
    cursor: grab;
    user-select: none;
    box-shadow: 2px 2px 5px rgba(0,0,0,0.05);
  }

  .draggable-item:hover {
    transform: translateY(-2px);
    border-color: #aaa;
  }
  
  .draggable-item.dragging {
    opacity: 0.5;
  }

  .draggable-item.matched {
    display: none; 
  }

  /* --- å³å´ï¼šåœ–ç‰‡äº’å‹•å€ (é—œéµä¿®æ­£) --- */
  /* ä½¿ç”¨ fit-content ç¢ºä¿å®¹å™¨ç·Šè²¼åœ–ç‰‡ï¼Œä¸ç•™ç™½é‚Š */
  .game-board {
    position: relative;
    width: 100%;
    /* é€™è£¡ç¢ºä¿å¦‚æœåœ–ç‰‡æ²’è¼‰å…¥ï¼Œè‡³å°‘æœ‰å€‹ç¯„åœ */
    min-height: 500px; 
  }

  .base-image {
    width: 100%;
    display: block; /* æ¶ˆé™¤åœ–ç‰‡åº•éƒ¨é è¨­çš„ 3px ç™½é‚Š */
    border-radius: 8px;
  }

  /* --- æ”¾ç½®æ¡†æ¡†æ¨£å¼ --- */
  .drop-zone {
    position: absolute;
    width: 20.5%; /* æ ¹æ“šåº•åœ–æ ¼å­çš„å¯¬åº¦å¾®èª¿ */
    height: 7.2%; /* æ ¹æ“šåº•åœ–æ ¼å­çš„é«˜åº¦å¾®èª¿ */
    
    /* === é™¤éŒ¯æ¨¡å¼ (Debug Mode) === */
    /* å¦‚æœå°ä¸æº–ï¼Œç´…æ¡†æœƒå¹«ä½ çœ‹æ¸…æ¥šä½ç½®ã€‚ç¢ºèªæ²’å•é¡Œå¾Œï¼ŒæŠŠä¸‹é¢é€™è¡Œæ”¹æˆ border: none; */
    border: 2px solid red; 
    background-color: rgba(255, 0, 0, 0.1); 
    
    border-radius: 4px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.4vw; 
    font-weight: bold;
    color: transparent; 
    z-index: 10;
    box-sizing: border-box; 
  }

  /* æ‹–æ›³ç¶“éæ™‚ */
  .drop-zone.drag-over {
    background-color: rgba(255, 255, 0, 0.4);
    border: 2px dashed #fbc02d;
  }

  /* ç­”å°æ™‚çš„æ¨£å¼ */
  .drop-zone.correct {
    background-color: #fff;
    color: #cc0000;
    border: 2px solid #333; 
    box-shadow: 0 0 5px rgba(0,0,0,0.2);
  }

  /* --- åº§æ¨™å¾®èª¿ (é‡å° 3.png) --- */
  /* å·¦æ¬„ X: 52% | å³æ¬„ X: 77.2% */
  
  /* 1. è…¦å‚è…º */
  #zone-gland-pituitary { top: 9.8%; left: 52%; }
  #zone-hormone-pituitary { top: 9.8%; left: 77.2%; }

  /* 2. ç”²ç‹€è…º */
  #zone-gland-thyroid { top: 22.2%; left: 52%; }
  #zone-hormone-thyroid { top: 22.2%; left: 77.2%; }

  /* 3. å‰¯ç”²ç‹€è…º (ä¸­é–“é‚£è¡Œ) */
  #zone-gland-parathyroid { top: 52.5%; left: 52%; }
  #zone-hormone-parathyroid { top: 52.5%; left: 77.2%; }

  /* 4. è…ä¸Šè…º */
  #zone-gland-adrenal { top: 64.8%; left: 52%; }
  #zone-hormone-adrenal { top: 64.8%; left: 77.2%; }

  /* 5. èƒ°å³¶ */
  #zone-gland-pancreas { top: 77.2%; left: 52%; }
  #zone-hormone-pancreas { top: 77.2%; left: 77.2%; }

  /* 6. æ€§è…º */
  #zone-gland-gonad { top: 89.5%; left: 52%; }
  #zone-hormone-gonad { top: 89.5%; left: 77.2%; }


  /* --- æˆåŠŸç•«é¢ --- */
  #success-overlay {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(255,255,255,0.85);
    display: none; 
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 50;
    border-radius: 8px;
  }
  
  #success-overlay h2 {
    color: #4caf50;
    font-size: 3em;
    margin: 0 0 20px 0;
  }
  
  button.reset-btn {
    padding: 12px 30px;
    font-size: 1.2em;
    background-color: #2196f3;
    color: white;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }

  @media (max-width: 800px) {
    .main-container { flex-direction: column; align-items: center; }
    .options-panel { width: 100%; flex-direction: row; flex-wrap: wrap; justify-content: center;}
  }
</style>
</head>
<body>

<div class="main-container">
  
  <div class="options-panel" id="options-container">
    <div class="options-header">é¸é …æ¸…å–®</div>
    
    <div class="draggable-item" draggable="true" data-type="gland" data-id="pituitary">è…¦å‚è…º</div>
    <div class="draggable-item" draggable="true" data-type="gland" data-id="thyroid">ç”²ç‹€è…º</div>
    <div class="draggable-item" draggable="true" data-type="gland" data-id="parathyroid">å‰¯ç”²ç‹€è…º</div>
    <div class="draggable-item" draggable="true" data-type="gland" data-id="adrenal">è…ä¸Šè…º</div>
    <div class="draggable-item" draggable="true" data-type="gland" data-id="pancreas">èƒ°å³¶</div>
    <div class="draggable-item" draggable="true" data-type="gland" data-id="gonad">æ€§è…º</div>

    <div class="draggable-item" draggable="true" data-type="hormone" data-id="pituitary">ç”Ÿé•·æ¿€ç´ </div>
    <div class="draggable-item" draggable="true" data-type="hormone" data-id="thyroid">ç”²ç‹€è…ºç´ </div>
    <div class="draggable-item" draggable="true" data-type="hormone" data-id="parathyroid">å‰¯ç”²ç‹€è…ºç´ </div>
    <div class="draggable-item" draggable="true" data-type="hormone" data-id="adrenal">è…ä¸Šè…ºç´ </div>
    <div class="draggable-item" draggable="true" data-type="hormone" data-id="pancreas">èƒ°å³¶ç´ .å‡ç³–ç´ </div>
    <div class="draggable-item" draggable="true" data-type="hormone" data-id="gonad">é›Œé›„æ€§æ¿€ç´ </div>
  </div>

  <div class="game-board">
    <img src="3.png" alt="å…§åˆ†æ³Œç³»çµ±åº•åœ–" class="base-image" ondragstart="return false;">

    <div class="drop-zone" id="zone-gland-pituitary" data-type="gland" data-id="pituitary"></div>
    <div class="drop-zone" id="zone-gland-thyroid" data-type="gland" data-id="thyroid"></div>
    <div class="drop-zone" id="zone-gland-parathyroid" data-type="gland" data-id="parathyroid"></div>
    <div class="drop-zone" id="zone-gland-adrenal" data-type="gland" data-id="adrenal"></div>
    <div class="drop-zone" id="zone-gland-pancreas" data-type="gland" data-id="pancreas"></div>
    <div class="drop-zone" id="zone-gland-gonad" data-type="gland" data-id="gonad"></div>

    <div class="drop-zone" id="zone-hormone-pituitary" data-type="hormone" data-id="pituitary"></div>
    <div class="drop-zone" id="zone-hormone-thyroid" data-type="hormone" data-id="thyroid"></div>
    <div class="drop-zone" id="zone-hormone-parathyroid" data-type="hormone" data-id="parathyroid"></div>
    <div class="drop-zone" id="zone-hormone-adrenal" data-type="hormone" data-id="adrenal"></div>
    <div class="drop-zone" id="zone-hormone-pancreas" data-type="hormone" data-id="pancreas"></div>
    <div class="drop-zone" id="zone-hormone-gonad" data-type="hormone" data-id="gonad"></div>

    <div id="success-overlay">
      <h2>ğŸ‰ å…¨éƒ¨ç­”å°ï¼</h2>
      <button class="reset-btn" onclick="location.reload()">é‡æ–°é–‹å§‹</button>
    </div>
  </div>

</div>

<script>
  // 1. äº‚æ•¸æ’åº
  const container = document.getElementById('options-container');
  const items = Array.from(container.querySelectorAll('.draggable-item'));
  items.sort(() => Math.random() - 0.5);
  items.forEach(item => container.appendChild(item));

  const draggables = document.querySelectorAll('.draggable-item');
  const dropZones = document.querySelectorAll('.drop-zone');
  const successOverlay = document.getElementById('success-overlay');
  
  let correctCount = 0;
  const totalItems = 12;

  // 2. æ‹–æ›³
  draggables.forEach(elem => {
    elem.addEventListener('dragstart', (e) => {
      elem.classList.add('dragging');
      e.dataTransfer.setData('text/plain', JSON.stringify({
        id: elem.dataset.id,
        type: elem.dataset.type,
        text: elem.innerText
      }));
    });
    elem.addEventListener('dragend', () => {
      elem.classList.remove('dragging');
    });
  });

  // 3. æ”¾ç½®
  dropZones.forEach(zone => {
    zone.addEventListener('dragover', (e) => {
      e.preventDefault();
      if (!zone.classList.contains('correct')) {
        zone.classList.add('drag-over');
      }
    });
    zone.addEventListener('dragleave', () => {
      zone.classList.remove('drag-over');
    });
    zone.addEventListener('drop', (e) => {
      e.preventDefault();
      zone.classList.remove('drag-over');
      
      const draggingElem = document.querySelector('.dragging');
      if (!draggingElem || zone.classList.contains('correct')) return;

      const dragId = draggingElem.dataset.id;
      const dragType = draggingElem.dataset.type;
      const zoneId = zone.dataset.id;
      const zoneType = zone.dataset.type;

      if (dragId === zoneId && dragType === zoneType) {
        zone.innerText = draggingElem.innerText;
        zone.classList.add('correct');
        // å°é½Šå¾Œç§»é™¤ç´…è‰²é™¤éŒ¯æ¡† (å¯é¸)
        zone.style.border = "2px solid #333"; 
        
        draggingElem.classList.add('matched');
        
        correctCount++;
        if (correctCount === totalItems) {
          setTimeout(() => {
            successOverlay.style.display = 'flex';
          }, 500);
        }
      }
    });
  });
</script>

</body>
</html>